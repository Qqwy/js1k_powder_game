<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
</head>
<!-- easy html page for testing, since the code can just be loaded from the script tag instead of copy/pasted -->
<!-- copy pasting can still be used for example for minified code -->
<body>
<canvas id="canvas" width="900px" height="600px">
</canvas>
<script>
    window.a = document.getElementById("canvas");
    window.c = a.getContext("2d");
</script>
<script src="powdergame.js">
// objectlist
//u=[],v=[];for(i=0;1E4>i;i++)v[i]=[3,2E5*Math.random()|0];setInterval(()=>{c.clearRect(0,0,500,400);for(t of v)[q,r]=t,c.fillRect(r%500,r/500|0,1,1),q&2&&1^u[r+500]&1&&2E5>r&&(u[r+500]=q,u[r]=0,t[1]+=500)},30)

// powdergame
//v=[],w=[];for(i=0;1E4>i;i++)w[i]=[3,2E5*Math.random()|0],v[500*i]=1;setInterval(()=>{c.clearRect(0,0,500,400);for(t of w)[q,r]=t,c.fillRect(r%500,r/500|0,1,1),q&2&&2E5>r&&(u=500+(2.4*Math.random()-1.2|0),1^v[r+u]&1&&(v[r+u]=q,v[r]=0,t[1]+=u))},30)


// cellmoving
//b=[];for(i=0;1E4>i;i++)b[16E4*Math.random()|0]=6,400>i&&(b[16E4+i]=2);a=1;setInterval(()=>{c.clearRect(0,0,400,400);for(i=0;16E4>i;i++)b[i]&&(c.fillRect(i%400,i/400|0,1,1),1&b[i]^a&&(b[i]^=1,b[i]&4&&2^b[i+400]&2&&(b[i+400]=b[i],b[i]=0)));a^=1},30);
</script>
</body>
</html>
