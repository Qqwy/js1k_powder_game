<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
</head>
<!-- easy html page for testing, since the code can just be loaded from the script tag instead of copy/pasted -->
<!-- copy pasting can still be used for example for minified code -->
<body>
<canvas id="canvas" width="900px" height="500px">
</canvas>
<script>
window.a = document.getElementById("canvas");
window.c = a.getContext("2d");


</script>
<script src="debugfunctions.js"></script>
<script src="powdergame_cells.js">


//_='p=n=e=f=g=0;rWO(r8Tt=[~,~];u={51:89603	1:0$77,2"5:R7421785:33555$?3:221,193:8947848,$$:26$2`27:6728294,R601:123091/7:65535@"8957:133$`13:R759739};m=OBuffer(RE5wWO(mvW8ClampedO(m)Se=1}Sup=qe=0}Smove=qAfFX;gFY};onkeyAn=A.which%R};setInterval(qw42781980LyyLBBLe#fg+By]=t[n]^pGh=10;--h;)w[R*h+By+64*(h==n)t[h]|1];p^=1;Lb=;ba=b],a^8TQ1&a^p#k=N458752JR&7Gl=N587202J23&7Gw[ba|1],NQ.1>xZN2#j,jG_(!!(N8)-(NRQ.5<x)G>dQ0<d#VHN4#_]H(GN2||(zGb]=V,V=a^1c.putKKv,P@G0,0)},R)~8T@0,2"4?2`26,T/64@"892`R6	0,$10,R6`RzV&lZV&k#V15)xMath.random()qfunction(j+[1,-1,P,-P][4*x|0],z`,6294_+((x-.5)*(1+(N6))|0)Z#a22GW=UintVd]T192S;onmouseR16Q&&P8OArrayNa&Lfor(KImageData(JQ512<<(a>>H&T)<(NT)||G),F=A.offset@,5?,2526450/,4230388$11#Q("881+P*new --;)&240]^p@45436956);874017.fill(,34430=8;-8<=t[a>>7:39R8down=q3200){r[4E5d=b	,1865]|=u[@0835';for(i of'	"#$/?@FGHJKLNOPQRSTVWZ_`jqxz~')with(_.split(i))_=join(pop());eval(_)


//for(_='32~,49~0`]|=u[_,1865Z,2881Wd=bV4E5Tr[S){R56Qfunction(Pdown=PO16N,552N5L&15]^pK=t[a>>J=4;-4<H.fill(G);F&&$,966~87#--;)"new $(11,763388,4230388,268045983049210=A.offset,92276462),a&192&)<()||$512<<(a>>ImageData(,1040205248,7549925800+8*for(Array	;onmouseSd]=UintaJ26K)Math.random()V+((-.5)*(1+(6))|0)&kJ19K&lV+[1,-1,8,-8][4*|0],p=n=e=f=g=0;r~	(TFrG8Ft=[8,6W46,62#N`~8L0Z0,10,N64];u={7:89Q603Z1:Q077W5:N7421783:335559:221,193:8947848,:262L1:39N7:67282949:306,N601:1230~917:65535#17:1335:39N8`33:N759739};m=	Buffer(NE5Fw~	(mFv8Clamped	(m)ORe=1}up=PRe=0}move=PARfX;gY};onkeyOARn=A.which%N};setInterval(PRwG42781980FyHy"BHB"eSfg+By]=t[n]^ph=10;--h;)w[N*h+By+~*(h==n)+~_t[h]|1];p^=1;b=T;b"a=Sb],a^8$1&a^pk=458752N&7l=587202Q23&7w[b_a|1],~$.1>,2Q,(!!(8)-(N$.5<)T>d$0<d4S](V2Q||(Sb]=,=a^1Fc.putv,8,50,0)},N)';G=/[^ !%-EIMUXY[-^a-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

//for(_='=A=>~down~`]|=u[_,3708\,5748Zd=bW4E5V256Tr[S00R8RQ19P&15]^pO=t[a>>N,49484L.fill(K);J32H&&G,553803Fnew @16??384$88#G("ff=A.oset,755R999=8;-8<--,966H87,4227111,268045983051156,76339859,92278203bb),ImageData(,104022265+Q*for(a&G0xQ<<(a>>Array&P2)<(P2)||;onmouse	Sd]=@Uint"aN26O)Math.random()W+((-.5)*(1+(6))|0)&k"NPO&lW+[1,-1,Q,-Q][4*|0],:0xp=n=e=f=g=0;rH(VJrK$Jt=[$,2Z684,P280?L?6F4\2,2134,H9842];u={3#aa\3557799Z7772213333779dd,P3###,213566RF599R566aa66777#,H98591733399RL17};m=@Buer(?E5JwH(mJv8Clamped(m)	`e=1	up~e=0	move~{fX;gY};onkey`n=A.which%?;setInterval(A=>{wK0xRRRJyy;)xx;)e"Sfg+xy]=t[n]^ph=10;--h;)w[?*h+xy+64R*(h==n)_t[h]|1];p^=1;b=V;b--;)a=Sb],a^$G1&a^p"k=458752?&7l=58720T23&7w[b_a|1],HG.1>,T",(!!(8)-(?G.5<)V>dG0<d"4"S](WT||(Sb]=,=a^1Jc.put@v,Q,5R0,0)},?)';G=/[^ !%->A-EIMUXY[\]^a-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

//for(_='84~=9;zfor(x;)xBz`=A=>_down_Z11W22V,4V7WT,494~S]|=u[R-9<--Q,3708P,5748Od=bN4E5L16KK3~Jr[H&15]^pG=t[a>>F.fill(@56?8305W?$&&##("32,96687,553803--;)new );1900,755999,2680459),=A.offset,76339859ImageData(,1040V2658,9V78203+8*a&#1024<<(a>>Array&2)<(2)||	;onmouseHd]=Uint"aF26G)Math.random()N+((-.5)*(1+(6))|0)&k"FG&lN+[1,-1,8,-8][4*|0],p=n=e=f=g=0;r(Lr@Jt=[J,$2O684,2T10KSK64P2,2134,9~2];u={$3:89?603P3:?0W77O7:K742171:33555W9:V1,3:8947~8,2135:26W25:5V245:67282947:306,985:123091T:6553517:133W3:39K8S17:K759739};m=Buffer(KE5w(mv8Clamped(m)Ze=1up_e=0move_{fX;gY};onkeyZn=A.which%K;setInterval(A=>{xyze#Qy`QB;)Hf+Bgy]=t[n]^p;p^=1;w@427880xb=L;ba=Hb],a^J#1&a^p"k=458752K&7l=587202?23&7w[bRa|1],#.1>,2?",(!!(8)-(K#.5<)L>d#0<d"	4"H]	(N2?||(Hb]=,=a^1xh=10;--h`Bxyzyw[B+K*hy+72*(h==n)Rt[h]|1];c.putv,8,50,0)},K';G=/[^ !%->A-EIMUXY[-^a-wy{-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)




//for(_='84~=r=>zdownzx,494~`]|=u[_,3708Z,5748W=9;V4E5T16SS3~R;)Q--P1,O&15]^pN=t[a>>L.fill(K56J11H8305HJG],F00@);?32$,966$87#,553803"new 8@+*A[b&&(19for(QBV-,268045922=r.offset,76339859,755@999ImageData(,10402658,978203a&),1024<<(a>>Array	A[d;onmouse]&2)<(2)||]LN=UintaL26N)Math.random()h=[O-O,-][4*|0Fk=+hFk&l+hk&mn=0,p=OA$	(T?AKR?t=[R,G2W684,2,47H10#S`S6"4Z2,2134,$9~2Fu={G3:89J603Z3:J0H77W7:S742171:33555H9:O3:8947~8,2135:26H2"5:5245:67282947:306@,$985:1230$9O47H:65535#17:133H3:39S8`17:S759739},v=	Buffer(SE5w$	(vC8Clamped	(v?e=0;f=g=-1xe=1upze=0movez{fX;gY};onkeyxn=r.which%S;setInterval(r=>{yVe-9<Py9<PBQA[f+B(g+y)]=t[n]^p^1;wK4278@80?b=T;bPQa=Fa^R1&a^pl=458752S&7m=587202J23&7w[b_a|1F$.1>,2J,d=b(!!(8)-(S.5<))+((-.5)*(1+(6))|0T>d0<d4=d%(b/|0)(d=b2J||(]&l]&m]=F]=a^1?h=10;Ph-BQyVPyQw[B+S*h%y+72@*(h==n)_t[h]|1];c.putC,,5@0,0?p^=1},S)';G=/[^ !%->A-EIMUXY[-^a-wy{-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)
//n=0,p=1,q=new Uint32Array(4E5);q.fill(16384);t=[16384,830511562,57486,26804598,755009994,192,42271118,922782030,966328716,4948416,1040222656,5538034,37082,2134,32984,763398592],u={830511563:8956603,37083:5601177,57487:16742178,922782031:3355511,26804599:221,193:8947848,2135:26112,5538035:52224,755009995:6728294,1040222657:30600,32985:12303291,42271119:65535,966328717:13311,763398593:39168,4948417:16759739},v=new ArrayBuffer(16E5),w=new Uint32Array(v),z=new Uint8ClampedArray(v);e=0;f=g=-1;onmousedown=r=>e=1;onmouseup=r=>e=0;onmousemove=r=>{f=r.offsetX;g=r.offsetY};onkeydown=r=>n=r.which%16;setInterval(r=>{for(y=9;e&&-9<--y;)for(x=9;-9<--x;)q[f+x+800*(g+y)]=t[n]^p^1;w.fill(4278190080);for(b=4E5;b--;)a=q[b],a^16384&&1&a^p&&(l=a&458752&&1024<<(a>>16&7),m=a&58720256&&1024<<(a>>23&7),w[b]|=u[a|1],a&32&&.1>Math.random()&&(a=t[a>>26&15]^p),a&256&&(h=[1,-1,800,-800][4*Math.random()|0],k=q[b+h],k&l&&(q[b+h]=t[a>>19&15]^p),k&m&&(a=t[a>>26&15]^p),h=[1,-1,800,-800][4*Math.random()|0],k=q[b+h],k&l&&(q[b+h]=t[a>>19&15]^p),k&m&&(a=t[a>>26&15]^p)),d=b+800*(!!(a&8)-(a&16&&.5<Math.random()))+((Math.random()-.5)*(1+(a&6))|0),4E5>d&&0<d&&(q[d]&192)<(a&192)||a&4&&(q[d=d%800+800*(b/800|0)]&192)<(a&192)||(d=b),a&256||(q[d]&l&&(q[d]=t[a>>19&15]^p),q[d]&m&&(a=t[a>>26&15]^p)),q[b]=q[d],q[d]=a^1);for(h=10;--h;)for(x=9;--x;)for(y=9;--y;)w[x+16*h%800+800*y+7200*(h==n)]|=u[t[h]|1];c.putImageData(new ImageData(z,800,500),0,0);p^=1},16)



</script>
</body>
</html>
