f=g=h=q=p=0;r=new Uint32Array(36E4);r.fill(201330688);u=[4099019,3441611,4289,211402895,4686671,85361805,957923437,972260251,8368527,85886071,473,201330688,318996929,936215489,379060723,2523,599,1077314497,332923059,6291627,5243051,886276555,109609199,972259415];v={};
for(k in"ba87a7777df0733f30ff744407fd00aaa0007ff730090975070090f0f0ffff0a0ffa7105")v[u[k/3|0]]|=("0x"+"ba87a7777df0733f30ff744407fd00aaa0007ff730090975070090f0f0ffff0a0ffa7105"[k]+"ba87a7777df0733f30ff744407fd00aaa0007ff730090975070090f0f0ffff0a0ffa7105"[k]|0)<<k%3*8;n=new ArrayBuffer(144E4);z=new Uint32Array(n);w=new Uint8ClampedArray(n);a.onmousedown=function(){return f=1};onmouseup=function(){return f=0};a.onmousemove=function(t){g=t.offsetX;h=t.offsetY};
onwheel=function(t){return p+=0<t.deltaY||11};
setInterval(function(){z.fill(4278190080);for(y=4;-4<y--;)for(x=4;-4<x--;)for(f&&(r[g+800*h+x+800*y]=u[p%12]^q),k=12;k--;)z[16+16*k+x+800*y+3200*(k==p%12)+3200]|=v[u[k]];q^=1;for(d=36E4;d--;)b=r[d],b^201330688&&(1&b)==q&&(l=b&58720256&&128<<(b>>23&7),m=b&458752&&128<<(b>>16&7),z[d]|=v[b|1],b&32&&.1>Math.random()&&(b=u[(b>>19&15)+8]^q),b&32768&&(b&1073741824?e=d-800:(e=d+[1,-1,800,-800][4*Math.random()|0],r[e]&m&&(b=u[(b>>19&15)+8]^q),r[e]&l&&(r[e]=u[(b>>26&15)+8]^q),m=b&458752&&128<<(b>>16&7),e=d+
[1,-1,800,-800][4*Math.random()|0]),r[e]&m&&(b=u[(b>>19&15)+8]^q),r[e]&l&&(r[e]=u[(b>>26&15)+8]^q)),e=d+((Math.random()-.5)*(1+(b&6))|0)+800*((b&8&&1)-(b&16&&.5<Math.random())),36E4>e&&0<e&&(r[e]&192)<(b&192)||b&4&&(r[e=d+((Math.random()-.5)*(1+(b&6))|0)]&192)<(b&192)||(e=d),b&32768||(r[e]&m&&(b=u[(b>>19&15)+8]^q),r[e]&l&&(r[e]=u[(b>>26&15)+8]^q)),r[d]=r[e],r[e]=b^1);c.putImageData(new ImageData(w,800,450),0,0)},16)
